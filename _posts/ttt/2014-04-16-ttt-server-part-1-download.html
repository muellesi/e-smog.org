---
layout: post
title:  "TTT Dedicated Server Part 1: Download"
author: Simon Müller
date:   2014-04-16 21:30:33 +0100
categories: ttt
image: assets/gm-mods.png
---

Da ich vor einiger Zeit selbst vor dem Problem stand, einen Dedicated Server für den Garry’s Mod-Spielmodus Trouble in Terrorist Town zu erstellen und es sehr wenige Tutorials gibt, welche sich wirklich ausführlich mit diesem Thema beschäftigen: Hier eine (hoffentlich) sehr ausführliche Tutorialreihe zu diesem Thema.

<h2>0. (System-)Voraussetzungen</h2>
Einen Dedicated Server aufzusetzen, ergibt nur Sinn, wenn bestimmte Bedingungen erfüllt sind:
<ul>
 	<li>Der Computer muss aus dem Internet via IPv4 erreichbar sein</li>
 	<li><span style="color: #ff0000;">Der Port für den Dedicated Server muss im Router geöffnet sein – und außerdem an den Server-PC weitergeleitet werden. Wie das geht, ist in der zum Router gehörenden Anleitung oder in einem der zahlreichen Tutorials im Netz nachzulesen. Für den Server ist der Port <strong>27015</strong> für TCP und UDP freizugeben und an den eigenen PC weiterzuleiten.</span></li>
 	<li>Die Bandbreite des Internetanschlusses des PCs sollte nicht zu knapp bemessen sein – 1MBit/s Upload sollten schon drin sein, um eine vernünftige Spielerzahl Laggfrei zu versorgen.</li>
 	<li>Natürlich sollte auch der PC an sich nicht zu schwach auf der Brust sein. Genauere Angaben folgen, nachdem ich einige Tests zu diesem Thema gemacht habe. Grundsätzlich gilt: je mehr Spieler auf einem Server spielen wollen, desto leistungsstärker (CPU &amp; RAM) sollte dieser sein. Generell sind Source-Dedicated Server aber nicht sehr Ressourcenhungrig, deswegen tut es in den meisten Fällen ein ganz normaler Home-PC.  (Auf meinem alten PC, ausgestattet mit einem Intel i5-2500 und 8GB RAM liefen der Server mit bis zu 7 verbundenen Spielern und Garry’s Mod selbst gleichzeitig und es kam zu keinerlei Problemen).</li>
 	<li>Eine eigene URL, unter der der Server erreichbar ist, wäre von Vorteil. Dies ist zum Beispiel mit dem Dienst von <a href="http://www.noip.com/">no-ip</a> möglich.</li>
</ul>
<h2>1. Steam Console holen und Garrys Mod-Server installieren</h2>
<h3></h3>
<h3>Steam Cmd holen und aktualisieren</h3>
Unter <a title="https://developer.valvesoftware.com/wiki/SteamCMD#Downloading_SteamCMD" href="https://developer.valvesoftware.com/wiki/SteamCMD#Downloading_SteamCMD">https://developer.valvesoftware.com/wiki/SteamCMD#Downloading_SteamCMD</a> kann man die sogenannte Steam-Console herunterladen. Diese ist eine Minimalversion von Steam ohne Benutzeroberfläche.  Sie wird hauptsächlich zum Einrichten von Dedicated Servern genutzt - so auch hier in diesem Tutorial.

Nach dem Herunterladen entpackt ihr die steamcmd.exe aus dem Ziparchiv in einen Ordner auf eurer Festplatte. Ich werde jetzt einfach mal den Ordner C:\steamcmd\ wählen, den ich mir vorher extra für den Server erstellt habe.
<div class="tip"><strong>Hinweis</strong> <small>(<a href="https://e-smog.org/blog/garrys-mod-ttt-dedicated-server-erstellenpart-1/#comment-379">Danke an Benutzer Vervi</a>)</small><em>: </em>Falls euer Pfad hier oder auch später Leerzeichen enthält, müsst ihr bei allen nachfolgenden Befehlen und Einstellungen Anführungszeichen um den gesamten Dateipfad setzen. Ansonsten landen die Dateien nicht im richtigen Ordner oder manche Einstellungen werden nicht funktionieren wie gewünscht. Am besten ist es, einfach auf Leerzeichen zu verzichten, wo es nur geht, damit kann diese potentielle Fehlerquelle ganz einfach umgangen werden.</div>
Nach dem entpacken, startet ihr die steamcmd.exe. Es sollte sich ein Konsolenfenster öffnen und Steam sollte sich ein erstes mal Updaten. Dies kann je nach Geschwindigkeit der Internetverbindung einige Minuten dauern.
<h3></h3>
<h3>Garry’s Mod Dedicated Server Laden</h3>
Jetzt wo ihr also eine funktionierende SteamCMD habt, könnt ihr den eigentlichen Garry’s Mod-Server herunterladen.

Im noch geöffneten SteamCMD-Fenster gebt ihr nun den folgenden Befehl ein:

<code>login anonymous</code>

Damit werdet ihr bei Steam eingeloggt, sodass ihr den Server herunterladen könnt.

Mit <code class="inline">force_install_dir gm</code>  sorgt ihr dafür, dass die SteamCMD den Server im nachfolgenden Schritt in den Unterordner “gm” installiert.

Nun könnt ihr via <code class="inline">app_update 4020 validate</code> den eigentlichen Server herunterladen.

Nun könnt ihr euch in Ruhe einen Kaffee holen gehen, denn das dauert mitunter sehr lange.
<h2></h2>
<h1></h1>

<hr />

&nbsp;
<p style="text-align: center;"><em><strong>NOCH FRAGEN?
</strong>Schau dir doch mal die <a title="Garrys mod TTT Dedicated Server erstellen – Part 7: F.A.Q/Troubleshooting" href="https://e-smog.org/blog/garrys-mod-ttt-dedicated-server-erstellen-part-7-f-a-q/">FAQ </a>an, vielleicht wurde deine Frage bereits beantwortet. Wenn nicht, schreibe mir gerne in den Kommentaren.</em></p>
<p style="text-align: center;"><em><span style="font-size: small;">Weiter geht's in <a href="https://e-smog.org/blog/garrys-mod-ttt-dedicated-server-erstellenpart-2/">Part 2</a>  mit der grundlegenden Einrichtung.</span></em></p>