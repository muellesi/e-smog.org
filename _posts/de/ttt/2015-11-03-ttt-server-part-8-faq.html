---
layout: post
title:  "TTT Dedicated Server Part 8: F.A.Q."
author: Simon Müller
date:   2015-11-03 21:30:33 +0100
categories: TTT-Server
image: assets/post_images/garrysmod.jpg
showtoc: true
locale: de_DE
---
In diesem Teil meiner Artikelreihe möchte ich die Fragen festhalten,  welche mich immer wieder über die Kommentare etc. erreichen. Bevor ihr also eine Frage stellt: guckt mal hier vorbei, vielleicht wurde eure Frage ja schon beantwortet. Die Liste wird im Laufe der Zeit immer mehr erweitert, falls neue Fragen auftauchen.

<!--more-->

<h4>Inhalt</h4>
<ol>
 	<li><span style="color: #000000;"><a style="color: #000000; text-decoration: underline;" href="#sandbox"><em>Mein Server startet nicht im Modus TTT sondern im Sandboxmodus.</em></a></span></li>
 	<li><span style="color: #000000;"><a style="color: #000000; text-decoration: underline;" href="#konsole"><em>Du redest immer von einer Konsole, ich habe hier aber ein olivgrünes Fenster vor mir.</em></a></span></li>
 	<li><span style="color: #000000;"><a style="color: #000000; text-decoration: underline;" href="#liste-oeffentlich"><em>Mein Server taucht nicht in der Liste öffentlicher Server auf.</em></a></span></li>
 	<li><span style="color: #000000;"><a style="color: #000000; text-decoration: underline;" href="#ports"><em>Nur ich kann über die "Im Netzwerk suchen" Funktion dem Server beitreten. Meine Freunde erhalten die Nachricht "Server antwortet nicht" wenn sie mir via Steam hinterher joinen wollen.</em></a></span></li>
 	<li><span style="color: #000000;"><a style="color: #000000; text-decoration: underline;" href="#kollektion"><em>Mein Server lädt meine Workshop-Kollektion nicht (mehr) herunter.</em></a></span></li>
 	<li><span style="text-decoration: underline;"><span style="color: #000000; text-decoration: underline;"><em><a style="color: #000000; text-decoration: underline;" href="#linux">Ich möchte den Server gerne auf einem Linux-Rechner einrichten - geht das auch?</a></em></span></span></li>
 	<li><span style="color: #000000;"><em><span style="text-decoration: underline;"><a style="color: #000000; text-decoration: underline;" href="#update">Wie Update ich</a><a style="color: #000000; text-decoration: underline;" href="#update"> me</a><a style="color: #000000; text-decoration: underline;" href="#update">inen</a><a style="color: #000000; text-decoration: underline;" href="#update"> Server?</a></span></em></span></li>
 	<li><span style="color: #000000;"><em><a style="color: #000000; text-decoration: underline;" href="#mounten">Auf meinem Server kann man einfach durch Kisten hindurchlaufen. Was ist das Problem?</a></em></span></li>
</ol>
<em> </em>

<hr />

<strong><em id="sandbox">Mein Server startet nicht im Modus TTT sondern im Sandboxmodus.</em></strong>
<blockquote>Wahrscheinlich stimmt mit deiner startServer.bat oder deiner Serverkonfigurationsdatei (server.cfg) etwas nicht. Bitte prüfe, ob beide aussehen, wie in den ersten Teilen der Tutorialserie gezeigt. Denke außerdem daran, dass der Server nicht über die rcds.exe-Datei gestartet wird, sondern über unser Startskript startServer.bat.</blockquote>

<hr />

&nbsp;

<strong><em id="konsole">Du redest immer von einer Konsole, ich habe hier aber ein olivgrünes Fenster vor mir.</em></strong>
<blockquote>Sehr wahrscheinlich hast du einfach die srcds.exe doppelt geklickt, anstatt den Server über die eigens erstellte Datei startServer.bat zu starten. Sobald du dieses bat-Skript zum Starten des Servers nutzt, solltest du auch wie im Tutorial beschrieben eine Konsole erhalten, in der du Serverbefehle ausführen kannst.</blockquote>

<hr />

&nbsp;

<strong><em id="liste-oeffentlich">Mein Server taucht nicht in der Liste öffentlicher Server auf.</em></strong>
<blockquote>Dieser Fehler scheint bei einigen aufzutreten und bis heute habe ich leider noch keine allgemeingültige Ursache gefunden. Das Problem scheint manchmal bei falsch konfigurierten Ports im Router oder am Server-PC aufzutreten, kann aber auch durch Fehler in der Konfiguration (sv_lan auf 1 ) oder eine defekte/nicht vorhandene Map (wodurch der Server beim Starten hängen bleibt und gar nicht dazu kommt, sich beim Steam-Dienst für dedizierte Server zu registrieren) verursacht werden. Auf alle Fälle ist es in diesem Fall wichtig, den Serverlog beim Starten anzusehen (und wenn ihr damit nichts anfangen könnt abzuspeichern und mir zur Hilfe zukommen zu lassen), da hieraus die meisten Probleme sehr einfach abgelesen werden können. Auch zu erwähnen ist bei diesem Problem, dass teilweise einfach die Steam-Server überlastet sein können, was ebenfalls dafür sorgt, dass euer Server nicht in der Liste auftaucht.

Ein weiteres mögliches Problem könnte die Konfigurationsvariable sv_region darstellen. Laut einiger Foren muss diese unbedingt gesetzt werden, damit der Server in der öffentlichen Serverliste aufgeführt wird.

Hier die möglichen Werte:
<ul>
 	<li>-1: Nicht in die Serverliste aufnehmen (Standardwert, auch wenn die Variable nicht gesetzt ist!)</li>
 	<li>0: Ostküste USA.</li>
 	<li>1: Westküste USA.</li>
 	<li>2: Süd Amerika.</li>
 	<li>3: Europa.</li>
 	<li>4: Asien.</li>
 	<li>5: Australien.</li>
 	<li>6: Mittlerer Osten.</li>
 	<li>7: Afrika.</li>
 	<li>255: International / Sonstige.</li>
</ul>
<em>Bitte verfallt außerdem nicht gleich in Panik, falls euer Server nicht sofort in der Liste auftaucht. Die Liste umfasst meistens mehrere 1000 Einträge und braucht ensprechend lange, bis sie von den Steam-Servern heruntergeladen wurde. Daher kann es durchaus passieren, dass ihr bis zu 5 Minuten warten müsst, bis euer Server in der Liste auftaucht.</em></blockquote>

<hr />

&nbsp;

<strong><em id="ports">Nur ich kann über die "Im Netzwerk suchen" Funktion dem Server beitreten. Meine Freunde erhalten die Nachricht "Server antwortet nicht" wenn sie mir via Steam hinterher joinen wollen.</em></strong>
<blockquote>Hier ist ziemlich sicher ein falsch konfigurierter Router oder eine Firewall das Problem. Bitte stelle sicher, dass du den in <a title="Garrys mod TTT Dedicated Server erstellen – Part 1: Download" href="https://e-smog.org/blog/garrys-mod-ttt-dedicated-server-erstellenpart-1/">Part 1</a> ganz oben angegebenen Port auch wirklich im Router freigegeben und an deinen PC weitergeleitet hast. Außerdem prüfe, ob in der Windows-Firewall deines Server-PCs die srcds.exe freigegeben ist (Je nachdem in welchem Netzwerk du dich befindest für öffentlich oder privat. Am einfachsten ist es, einfach beide Haken zu setzen).

Seit einiger Zeit bieten allerdings auch einige Internetanbieter Verträge mit der sogenannten <a href="http://www.elektronik-kompendium.de/sites/net/2010211.htm">DS-Lite</a>-Technik an. Hierbei erhaltet ihr keine echte öffentliche IPv4-Adresse mehr, womit auch die Möglichkeit wegfällt, auf IPv4-basierende Server zu hosten. Da srcds bis jetzt leider kein IPv6 unterstützt, habt ihr mit einem solchen Vertrag leider keine Möglichkeit, den Server ohne ein VPN oder Hilfsprogramme wie hamachi oder tunngle im Internet verfügbar zu machen.</blockquote>

<hr />

&nbsp;

<strong><em id="kollektion">Mein Server lädt meine Workshop-Kollektion nicht (mehr) herunter.</em></strong>
<blockquote>Bei diesem Problem kann es wieder mehrere Ursachen geben: Zum einen sind manchmal einfach die Steam-Server überlastet, wodurch einer der zum Herunterladen der Addons benötigten Schritte nicht richtig durchgeführt werden kann. Hierüber bietet meistens der Serverlog Aufschluss. Hier hilft es eigentlich immer, einfach eine halbe Stunde zu warten und es dann nochmal zu probieren - meistens sind die Probleme dann verschwunden. Dies gilt vor allem auch, falls der Download mit exakt der selben Konfiguration bereits einmal geklappt hat.

Zum anderen kann das aber auch ein Konfigurationsproblem sein:

Überprüfe, ob du einen gültigen Steam-Api-key hast (vergleiche deinen Key mit dem Key, welcher dir auf der in <a title="Garrys mod TTT Dedicated Server erstellen – Part 3: Steam Workshop integrieren" href="https://e-smog.org/blog/garrys-mod-ttt-dedicated-server-erstellenpart-3/">Part 3</a> verlinkten <a href="https://steamcommunity.com/login/home/?goto=%2Fdev%2Fapikey">Steam-Seite</a> angezeigt wird). Sollte dein Key gültig sein, überprüfe, ob er wie in Part 3 gezeigt, korrekt in der startServer.bat eingetragen ist. Außerdem prüfe, ob die Kollektions-ID aus der startServer.bat auch tatsächlich mit der ID deiner gewünschten Kollektion übereinstimmt.</blockquote>

<hr />

&nbsp;

<strong><em id="linux">Ich möchte den Server gerne auf einem Linux-Rechner einrichten - geht das auch?</em></strong>
<blockquote>Ja, das geht mit ein wenig Linux-Erfahrung auch ohne Probleme. In diesem Fall verläuft die Einrichtung beinahe gleich wie unter Windows. Du musst lediglich Steamcmd passend zu deinem Betriebssystem herunterladen. Wie das geht, steht <a href="https://developer.valvesoftware.com/wiki/SteamCMD#Linux">hier</a> ziemlich genau und gut erklärt. Ab dann könnt ihr abgesehen von ein paar Eigenheiten von Linux fast genau wie unter Windows nach dem Download fortfahren. Ein wenig Ahnung von Linux ist allerdings erforderlich, um zum Beispiel das Startscript auf so umzubiegen, dass es auf Linux funktioniert.</blockquote>

<hr />

&nbsp;

<em id="update"><strong>Wie Update ich meinen Server?</strong></em>
<blockquote>Das Update funktioniert exakt gleich, wie die Erstinstallation in Part 1. Wenn ihr einfach alle Schritte aus Part 1 nochmal nachvollzieht, erkennt SteamCMD, dass der Server schon installiert ist und führt statt einer Neuinstallation ein Update durch. Achtet dabei aber auf jeden Fall bei force_install_dir den selben Pfad zu verwenden, den ihr auch schon bei der Erstinstallation angegeben habt.

Ihr könnt euch auch ein Update-Script schreiben, indem ihr einfach die folgende Zeile in eine neue Textdatei im srcds-Verzeichnis kopiert:

<code>steamcmd +login anonymous +force_install_dir ./gm +app_update 4020 +quit</code>

Nun benennt ihr die Textdatei noch um in "update.bat" und anschließend könnt ihr bequem per Doppelklick auf das Script euren Server updaten lassen.

Bei auftretenden Problemen kann es auch manchmal bereits helfen, den Server mit folgendem Kommando zu aktualisieren:

<code>steamcmd +login anonymous +force_install_dir ./gm +app_update 4020 validate +quit</code>

Das Schlüsselwort <code>validate</code> sorgt hier dafür, dass (ähnlich wie es auch im normalen Steam-Client möglich ist) alle Dateien auf Fehler überprüft und bei Bedarf neu heruntergeladen werden.</blockquote>

<hr />

<em id="mounten"><strong>Auf meinem Server kann man einfach durch Kisten hindurchlaufen, woran liegt das?</strong></em>
<blockquote>Deinem Server fehlen die Physikmodelle der Counter-Strike-Assets. In <a href="https://e-smog.org/blog/garrys-mod-ttt-dedicated-server-erstellen-part-4-andere-spiele-mounten/">Part 4</a> dieses Tutorials findest du eine Anleitung, wie dieses Problem behoben werden kann.</blockquote>